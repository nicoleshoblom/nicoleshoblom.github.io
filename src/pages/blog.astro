---
import BaseLayout from '../layouts/BaseLayout.astro';
const PageTitle = "Blog";
const postFiles = import.meta.glob('./posts/*.astro', { eager: true });

const posts = Object.entries(postFiles).map(([path, module]) => {
  const slug = path.replace('./posts/', '').replace('.astro', '');
  const title = module.title ?? slug;
  return {
    slug,
    title,
    url: `/posts/${slug}`
  };
});
---

<BaseLayout PageTitle={PageTitle}>
    <h2>This page is under construction 🛠️</h2>
    <ul>
        {posts.map((post) => (
          <li><a href={post.url}>{post.title}</a></li>
        ))}
    </ul>
</BaseLayout>